{"ast":null,"code":"import _classCallCheck from\"/Users/denis/Documents/UDACITY/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Documents/UDACITY/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/denis/Documents/UDACITY/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/denis/Documents/UDACITY/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{Redirect}from\"react-router-dom\";var Result=/*#__PURE__*/function(_Component){_inherits(Result,_Component);var _super=_createSuper(Result);function Result(){_classCallCheck(this,Result);return _super.apply(this,arguments);}_createClass(Result,[{key:\"render\",value:function render(){if(this.props.error){return/*#__PURE__*/_jsx(Redirect,{to:\"/react-game/notfound\"});}var _this$props$author=this.props.author,avatarURL=_this$props$author.avatarURL,name=_this$props$author.name;var _this$props=this.props,total_answers=_this$props.total_answers,selected_option_count=_this$props.selected_option_count,unselected_option_count=_this$props.unselected_option_count,selected_option_progress=_this$props.selected_option_progress,unselected_option_progress=_this$props.unselected_option_progress,selected_option=_this$props.selected_option,unselected_option=_this$props.unselected_option;return/*#__PURE__*/_jsxs(\"div\",{className:\"container_body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user_asks\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Asked by \",name]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"result_inner\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatarURL,alt:\"Avatar of \".concat(name),className:\"avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-info\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Results:\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"option selected\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Would you \",selected_option.text,\"?\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress_bar\",children:/*#__PURE__*/_jsxs(\"div\",{style:{width:\"\".concat(selected_option_progress,\"%\")},className:\"progress\",children:[selected_option_progress,\"%\"]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"answer_count\",children:[selected_option_count,\" out of \",total_answers,\" \",\"votes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"option\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Would you \",unselected_option.text,\"?\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress_bar\",children:/*#__PURE__*/_jsxs(\"div\",{style:{width:\"\".concat(unselected_option_progress,\"%\")},className:\"progress\",children:[unselected_option_progress,\"%\"]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"answer_count\",children:[unselected_option_count,\" out of \",total_answers,\" \",\"votes\"]})]})]})]})]});}}]);return Result;}(Component);function mapStateToProps(_ref,props){var authedUser=_ref.authedUser,questions=_ref.questions,users=_ref.users;try{var id=\"\";if(props.id){id=props.id;}else{id=props.match.params.id;}var question=questions[id];var author=users[question.author];var total_answers=Object.keys(question.optionTwo.votes).length+Object.keys(question.optionOne.votes).length;var authedUser_answer=users[authedUser].answers[id];var selected_option=question[authedUser_answer];var unselected_option=\"\";if(selected_option.text===question.optionOne.text){unselected_option=question.optionTwo;}else{unselected_option=question.optionOne;}var selected_option_count=Object.keys(selected_option.votes).length;var unselected_option_count=Object.keys(unselected_option.votes).length;return{author:author,total_answers:total_answers,selected_option_count:selected_option_count,unselected_option_count:unselected_option_count,selected_option_progress:(selected_option_count*100/total_answers).toFixed(1),unselected_option_progress:(unselected_option_count*100/total_answers).toFixed(1),selected_option:selected_option,unselected_option:unselected_option};}catch(e){return{error:e};}}export default connect(mapStateToProps)(Result);","map":{"version":3,"sources":["/Users/denis/Documents/UDACITY/react-game/src/components/Result.js"],"names":["React","Component","connect","Redirect","Result","props","error","author","avatarURL","name","total_answers","selected_option_count","unselected_option_count","selected_option_progress","unselected_option_progress","selected_option","unselected_option","text","width","mapStateToProps","authedUser","questions","users","id","match","params","question","Object","keys","optionTwo","votes","length","optionOne","authedUser_answer","answers","toFixed","e"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { Redirect } from \"react-router-dom\"\n\nclass Result extends Component {\n\trender() {\n\t\tif (this.props.error) {\n\t\t\treturn <Redirect to={\"/react-game/notfound\"} />\n\t\t}\n\t\tconst { avatarURL, name } = this.props.author\n\t\tconst {\n\t\t\ttotal_answers,\n\t\t\tselected_option_count,\n\t\t\tunselected_option_count,\n\t\t\tselected_option_progress,\n\t\t\tunselected_option_progress,\n\t\t\tselected_option,\n\t\t\tunselected_option,\n\t\t} = this.props\n\n\t\treturn (\n\t\t\t<div className=\"container_body\">\n\t\t\t\t<div className=\"user_asks\">\n\t\t\t\t\t<span>Asked by {name}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"result_inner\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={avatarURL}\n\t\t\t\t\t\talt={`Avatar of ${name}`}\n\t\t\t\t\t\tclassName=\"avatar\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"result-info\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span>Results:</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"option selected\">\n\t\t\t\t\t\t\t<p>Would you {selected_option.text}?</p>\n\t\t\t\t\t\t\t<div className=\"progress_bar\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\twidth: `${selected_option_progress}%`,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName=\"progress\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{selected_option_progress}%\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"answer_count\">\n\t\t\t\t\t\t\t\t{selected_option_count} out of {total_answers}{\" \"}\n\t\t\t\t\t\t\t\tvotes\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"option\">\n\t\t\t\t\t\t\t<p>Would you {unselected_option.text}?</p>\n\t\t\t\t\t\t\t<div className=\"progress_bar\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\twidth: `${unselected_option_progress}%`,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName=\"progress\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{unselected_option_progress}%\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"answer_count\">\n\t\t\t\t\t\t\t\t{unselected_option_count} out of {total_answers}{\" \"}\n\t\t\t\t\t\t\t\tvotes\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps({ authedUser, questions, users }, props) {\n\ttry {\n\t\tlet id = \"\"\n\t\tif (props.id) {\n\t\t\tid = props.id\n\t\t} else {\n\t\t\tid = props.match.params.id\n\t\t}\n\t\tconst question = questions[id]\n\t\tconst author = users[question.author]\n\t\tconst total_answers =\n\t\t\tObject.keys(question.optionTwo.votes).length +\n\t\t\tObject.keys(question.optionOne.votes).length\n\n\t\tconst authedUser_answer = users[authedUser].answers[id]\n\n\t\tconst selected_option = question[authedUser_answer]\n\n\t\tlet unselected_option = \"\"\n\t\tif (selected_option.text === question.optionOne.text) {\n\t\t\tunselected_option = question.optionTwo\n\t\t} else {\n\t\t\tunselected_option = question.optionOne\n\t\t}\n\n\t\tconst selected_option_count = Object.keys(selected_option.votes).length\n\t\tconst unselected_option_count = Object.keys(unselected_option.votes)\n\t\t\t.length\n\n\t\treturn {\n\t\t\tauthor,\n\t\t\ttotal_answers,\n\t\t\tselected_option_count,\n\t\t\tunselected_option_count,\n\t\t\tselected_option_progress: (\n\t\t\t\t(selected_option_count * 100) /\n\t\t\t\ttotal_answers\n\t\t\t).toFixed(1),\n\t\t\tunselected_option_progress: (\n\t\t\t\t(unselected_option_count * 100) /\n\t\t\t\ttotal_answers\n\t\t\t).toFixed(1),\n\t\t\tselected_option,\n\t\t\tunselected_option,\n\t\t}\n\t} catch (e) {\n\t\treturn {\n\t\t\terror: e,\n\t\t}\n\t}\n}\n\nexport default connect(mapStateToProps)(Result)\n"]},"metadata":{},"sourceType":"module"}