{"ast":null,"code":"import _classCallCheck from\"/Users/denis/Documents/UDACITY/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Documents/UDACITY/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/denis/Documents/UDACITY/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/denis/Documents/UDACITY/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{handleAddQuestionAswer}from\"../actions/questions\";import{connect}from\"react-redux\";import{Redirect}from\"react-router-dom\";import Result from\"./Result\";var QuestionPage=/*#__PURE__*/function(_Component){_inherits(QuestionPage,_Component);var _super=_createSuper(QuestionPage);function QuestionPage(){var _this;_classCallCheck(this,QuestionPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={selectedOption:\"optionOne\",toResult:false};_this.handleOptionChange=function(e){_this.setState({selectedOption:e.target.value});};_this.handleFormSubmit=function(formSubmitEvent){formSubmitEvent.preventDefault();var selectedOption=_this.state.selectedOption;var _this$props=_this.props,id=_this$props.id,authedUser=_this$props.authedUser,dispatch=_this$props.dispatch;dispatch(handleAddQuestionAswer({authedUser:authedUser,qid:id,answer:selectedOption}));_this.setState(function(){return{toResult:id?true:false};});};return _this;}_createClass(QuestionPage,[{key:\"render\",value:function render(){if(this.props.error){return/*#__PURE__*/_jsx(Redirect,{to:'/react-game/notfound'});}if(this.props.location.state.answered===true){return/*#__PURE__*/_jsx(Result,{id:this.props.id});}var question=this.props.question;var _this$props$author=this.props.author,avatarURL=_this$props$author.avatarURL,name=_this$props$author.name;var toResult=this.state.toResult;if(toResult===true){return/*#__PURE__*/_jsx(Redirect,{to:\"/react-game/result/\".concat(this.props.id)});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container_body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user_asks\",children:/*#__PURE__*/_jsxs(\"span\",{children:[name,\" asks:\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-inner\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatarURL,alt:\"Avatar of \".concat(name),className:\"avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-info\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Would you rather...\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleFormSubmit,className:\"radio_input\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"optionOne\",checked:this.state.selectedOption===\"optionOne\",onChange:this.handleOptionChange}),question.optionOne.text]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"optionTwo\",checked:this.state.selectedOption===\"optionTwo\",onChange:this.handleOptionChange}),question.optionTwo.text]}),/*#__PURE__*/_jsx(\"button\",{className:\"submit_poll_btn\",type:\"submit\",children:\"Submit\"})]})})]})]})]});}}]);return QuestionPage;}(Component);function mapStateToProps(_ref,props){var authedUser=_ref.authedUser,questions=_ref.questions,users=_ref.users;try{var id=props.match.params.id;var question=questions[id];var author=users[question.author];return{id:id,authedUser:authedUser,author:author,question:question};}catch(e){return{error:e};}}export default connect(mapStateToProps)(QuestionPage);","map":{"version":3,"sources":["/Users/denis/Documents/UDACITY/react-game/src/components/QuestionPage.js"],"names":["React","Component","handleAddQuestionAswer","connect","Redirect","Result","QuestionPage","state","selectedOption","toResult","handleOptionChange","e","setState","target","value","handleFormSubmit","formSubmitEvent","preventDefault","props","id","authedUser","dispatch","qid","answer","error","location","answered","question","author","avatarURL","name","optionOne","text","optionTwo","mapStateToProps","questions","users","match","params"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport { handleAddQuestionAswer } from \"../actions/questions\"\nimport { connect } from \"react-redux\"\nimport { Redirect } from \"react-router-dom\"\nimport Result from \"./Result\"\n\nclass QuestionPage extends Component {\n\tstate = {\n\t\tselectedOption: \"optionOne\",\n\t\ttoResult: false,\n\t}\n\thandleOptionChange = (e) => {\n\t\tthis.setState({\n\t\t\tselectedOption: e.target.value,\n\t\t})\n\t}\n\thandleFormSubmit = (formSubmitEvent) => {\n\t\tformSubmitEvent.preventDefault()\n\t\tconst { selectedOption } = this.state\n\t\tconst { id, authedUser, dispatch } = this.props\n\n\t\tdispatch(\n\t\t\thandleAddQuestionAswer({\n\t\t\t\tauthedUser,\n\t\t\t\tqid: id,\n\t\t\t\tanswer: selectedOption,\n\t\t\t})\n\t\t)\n\t\tthis.setState(() => ({\n\t\t\ttoResult: id ? true : false,\n\t\t}))\n\t}\n\trender() {\n\t\tif (this.props.error) {\n\t\t\treturn <Redirect to={'/react-game/notfound'} />\n\t\t}\n\t\tif (this.props.location.state.answered === true) {\n\t\t\treturn(\n\t\t\t\t<Result id={this.props.id}/>\n\t\t\t)\n\t\t}\n\t\tconst { question } = this.props\n\t\tconst { avatarURL, name } = this.props.author\n\t\tconst { toResult } = this.state\n\t\tif (toResult === true) {\n\t\t\treturn <Redirect to={`/react-game/result/${this.props.id}`} />\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"container_body\">\n\t\t\t\t<div className=\"user_asks\">\n\t\t\t\t\t<span>{name} asks:</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"question-inner\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={avatarURL}\n\t\t\t\t\t\talt={`Avatar of ${name}`}\n\t\t\t\t\t\tclassName=\"avatar\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"question-info\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span>Would you rather...</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\tonSubmit={this.handleFormSubmit}\n\t\t\t\t\t\t\t\tclassName=\"radio_input\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"optionOne\"\n\t\t\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\t\t\tthis.state.selectedOption ===\n\t\t\t\t\t\t\t\t\t\t\t\"optionOne\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleOptionChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{question.optionOne.text}\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"optionTwo\"\n\t\t\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\t\t\tthis.state.selectedOption ===\n\t\t\t\t\t\t\t\t\t\t\t\"optionTwo\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleOptionChange}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t{question.optionTwo.text}\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"submit_poll_btn\"\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps({ authedUser, questions, users }, props) {\n\ttry {\n\t\tconst { id } = props.match.params\n\t\tconst question = questions[id]\n\t\tconst author = users[question.author]\n\t\treturn {\n\t\t\tid,\n\t\t\tauthedUser,\n\t\t\tauthor,\n\t\t\tquestion,\n\t\t}\n\t} catch (e) {\n\t\treturn {\n\t\t\terror: e,\n\t\t}\n\t}\n}\n\nexport default connect(mapStateToProps)(QuestionPage)\n"]},"metadata":{},"sourceType":"module"}