{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/denis/Documents/UDACITY/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Documents/UDACITY/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/denis/Documents/UDACITY/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/denis/Documents/UDACITY/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import logo from\"../loginicon.png\";import{connect}from\"react-redux\";import{handleSetAuthedUser}from\"../actions/authedUser\";import{Redirect}from\"react-router-dom\";export var fakeAuth={isAuthenticated:false,authenticate:function authenticate(){this.isAuthenticated=true;},signout:function signout(cb){this.isAuthenticated=false;}};var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={selectedUser:\"none\",toMain:false};_this.handleChange=function(e){_this.setState({selectedUser:e.target.value});};_this.handleSubmit=function(formSubmitEvent){formSubmitEvent.preventDefault();var selectedUser=_this.state.selectedUser;var dispatch=_this.props.dispatch;dispatch(handleSetAuthedUser(selectedUser));fakeAuth.authenticate();_this.setState(function(){return{toMain:true};});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _ref=this.props.location.state||{from:{pathname:\"/\"}},from=_ref.from;var _this$state=this.state,selectedUser=_this$state.selectedUser,toMain=_this$state.toMain;if(toMain===true){return/*#__PURE__*/_jsx(Redirect,{to:from});}var users=this.props.users;var path=\"\";if(from.pathname===\"/\"){path=\"Home Page\";}else if(from.pathname===\"/add\"){path=\"New Question Page\";}else if(from.pathname===\"/leaderboard\"){path=\"Leader Board Page\";}return/*#__PURE__*/_jsxs(\"div\",{className:\"container_body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-greeting\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Welcome to the Would You Rather APP!\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Please sign in to view \",path]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login_body\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\",className:\"logo\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"select\",{className:\"select-login\",onChange:this.handleChange,value:selectedUser,children:[/*#__PURE__*/_jsx(\"option\",{value:\"none\",disabled:true,children:\"Select User\"}),users.map(function(user){return/*#__PURE__*/_jsx(\"option\",{value:user.id,children:user.name},user.id);})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"sign-btn\",disabled:selectedUser===\"none\",children:\"Sign in\"})]})]})]});}}]);return Login;}(Component);function mapStateToProps(_ref2){var authedUser=_ref2.authedUser,users=_ref2.users;return{authedUser:authedUser,users:Object.values(users).map(function(user){return user;})};}export default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["/Users/denis/Documents/UDACITY/react-game/src/components/Login.js"],"names":["React","Component","logo","connect","handleSetAuthedUser","Redirect","fakeAuth","isAuthenticated","authenticate","signout","cb","Login","state","selectedUser","toMain","handleChange","e","setState","target","value","handleSubmit","formSubmitEvent","preventDefault","dispatch","props","location","from","pathname","users","path","map","user","id","name","mapStateToProps","authedUser","Object","values"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport logo from \"../loginicon.png\"\nimport { connect } from \"react-redux\"\nimport { handleSetAuthedUser } from \"../actions/authedUser\"\nimport { Redirect } from \"react-router-dom\"\n\nexport const fakeAuth = {\n\tisAuthenticated: false,\n\tauthenticate() {\n\t\tthis.isAuthenticated = true\n\t},\n\tsignout(cb) {\n\t\tthis.isAuthenticated = false\n\t},\n}\n\nclass Login extends Component {\n\tstate = {\n\t\tselectedUser: \"none\",\n\t\ttoMain: false,\n\t}\n\n\thandleChange = (e) => {\n\t\tthis.setState({\n\t\t\tselectedUser: e.target.value,\n\t\t})\n\t}\n\thandleSubmit = (formSubmitEvent) => {\n\t\tformSubmitEvent.preventDefault()\n\t\tconst { selectedUser } = this.state\n\t\tconst { dispatch } = this.props\n\n\t\tdispatch(handleSetAuthedUser(selectedUser))\n\t\tfakeAuth.authenticate()\n\t\tthis.setState(() => ({\n\t\t\ttoMain: true,\n\t\t}))\n\t}\n\trender() {\n\t\tconst { from } = this.props.location.state || {\n\t\t\tfrom: { pathname: \"/\" },\n\t\t}\n\t\tconst { selectedUser, toMain } = this.state\n\t\tif (toMain === true) {\n\t\t\treturn <Redirect to={from} />\n\t\t}\n\t\tconst { users } = this.props\n\t\tlet path = \"\"\n\t\tif (from.pathname === \"/\") {\n\t\t\tpath = \"Home Page\"\n\t\t} else if (from.pathname === \"/add\") {\n\t\t\tpath = \"New Question Page\"\n\t\t} else if (from.pathname === \"/leaderboard\") {\n\t\t\tpath = \"Leader Board Page\"\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"container_body\">\n\t\t\t\t<div className=\"login-greeting\">\n\t\t\t\t\t<span>Welcome to the Would You Rather APP!</span>\n\t\t\t\t\t<p>Please sign in to view {path}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"login_body\">\n\t\t\t\t\t<img src={logo} alt=\"logo\" className=\"logo\" />\n\t\t\t\t\t<p>Sign in</p>\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclassName=\"select-login\"\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\tvalue={selectedUser}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"none\" disabled>\n\t\t\t\t\t\t\t\tSelect User\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t{users.map((user) => (\n\t\t\t\t\t\t\t\t<option key={user.id} value={user.id}>\n\t\t\t\t\t\t\t\t\t{user.name}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"sign-btn\"\n\t\t\t\t\t\t\tdisabled={selectedUser === \"none\"}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSign in\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps({ authedUser, users }) {\n\treturn {\n\t\tauthedUser,\n\t\tusers: Object.values(users).map((user) => user),\n\t}\n}\n\nexport default connect(mapStateToProps)(Login)\n"]},"metadata":{},"sourceType":"module"}